"use strict";
// config/env.ts
// Environment variables configuration with type safety
Object.defineProperty(exports, "__esModule", { value: true });
exports.env = void 0;
const dotenv_1 = require("dotenv");
dotenv_1.default.config();
const getEnv = (key, defaultValue) => {
    const value = process.env[key] || defaultValue;
    if (!value) {
        throw new Error(`Missing environment variable: ${key}`);
    }
    return value;
};
exports.env = {
    PORT: parseInt(getEnv('PORT', '5000')),
    NODE_ENV: getEnv('NODE_ENV', 'development'),
    MONGODB_URI: getEnv('MONGODB_URI'),
    JWT_SECRET: getEnv('JWT_SECRET'),
    JWT_EXPIRE: getEnv('JWT_EXPIRE', '7d'),
    AWS_REGION: getEnv('AWS_REGION', 'us-east-1'),
    AWS_ACCESS_KEY_ID: getEnv('AWS_ACCESS_KEY_ID'),
    AWS_SECRET_ACCESS_KEY: getEnv('AWS_SECRET_ACCESS_KEY'),
    AWS_ACCOUNT_ID: getEnv('AWS_ACCOUNT_ID'),
    S3_ORIGINAL_BUCKET: getEnv('S3_ORIGINAL_BUCKET'),
    S3_TRANSFORMED_BUCKET: getEnv('S3_TRANSFORMED_BUCKET'),
    CLOUDFRONT_DOMAIN: getEnv('CLOUDFRONT_DOMAIN'),
    MAX_UPLOAD_SIZE_MB: parseInt(getEnv('MAX_UPLOAD_SIZE_MB', '50')),
    PRESIGNED_URL_EXPIRY_SECONDS: parseInt(getEnv('PRESIGNED_URL_EXPIRY_SECONDS', '900')),
    ASSET_RETENTION_HOURS: parseInt(getEnv('ASSET_RETENTION_HOURS', '90')),
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW52LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZW52LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxnQkFBZ0I7QUFDaEIsdURBQXVEOzs7QUFFdkQsbUNBQTRCO0FBRTVCLGdCQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7QUFtQ2hCLE1BQU0sTUFBTSxHQUFHLENBQUMsR0FBVyxFQUFFLFlBQXFCLEVBQVUsRUFBRTtJQUM1RCxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLFlBQVksQ0FBQztJQUMvQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDWCxNQUFNLElBQUksS0FBSyxDQUFDLGlDQUFpQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMsQ0FBQztBQUVXLFFBQUEsR0FBRyxHQUFjO0lBQzVCLElBQUksRUFBRSxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztJQUN0QyxRQUFRLEVBQUUsTUFBTSxDQUFDLFVBQVUsRUFBRSxhQUFhLENBQUM7SUFFM0MsV0FBVyxFQUFFLE1BQU0sQ0FBQyxhQUFhLENBQUM7SUFFbEMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxZQUFZLENBQUM7SUFDaEMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDO0lBRXRDLFVBQVUsRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLFdBQVcsQ0FBQztJQUM3QyxpQkFBaUIsRUFBRSxNQUFNLENBQUMsbUJBQW1CLENBQUM7SUFDOUMscUJBQXFCLEVBQUUsTUFBTSxDQUFDLHVCQUF1QixDQUFDO0lBQ3RELGNBQWMsRUFBRSxNQUFNLENBQUMsZ0JBQWdCLENBQUM7SUFFeEMsa0JBQWtCLEVBQUUsTUFBTSxDQUFDLG9CQUFvQixDQUFDO0lBQ2hELHFCQUFxQixFQUFFLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQztJQUV0RCxpQkFBaUIsRUFBRSxNQUFNLENBQUMsbUJBQW1CLENBQUM7SUFFOUMsa0JBQWtCLEVBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNoRSw0QkFBNEIsRUFBRSxRQUFRLENBQUMsTUFBTSxDQUFDLDhCQUE4QixFQUFFLEtBQUssQ0FBQyxDQUFDO0lBRXJGLHFCQUFxQixFQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLENBQUM7Q0FDdkUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGNvbmZpZy9lbnYudHNcclxuLy8gRW52aXJvbm1lbnQgdmFyaWFibGVzIGNvbmZpZ3VyYXRpb24gd2l0aCB0eXBlIHNhZmV0eVxyXG5cclxuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xyXG5cclxuZG90ZW52LmNvbmZpZygpO1xyXG5cclxuaW50ZXJmYWNlIEVudkNvbmZpZyB7XHJcbiAgLy8gU2VydmVyXHJcbiAgUE9SVDogbnVtYmVyO1xyXG4gIE5PREVfRU5WOiBzdHJpbmc7XHJcbiAgXHJcbiAgLy8gTW9uZ29EQlxyXG4gIE1PTkdPREJfVVJJOiBzdHJpbmc7XHJcbiAgXHJcbiAgLy8gSldUXHJcbiAgSldUX1NFQ1JFVDogc3RyaW5nO1xyXG4gIEpXVF9FWFBJUkU6IHN0cmluZztcclxuICBcclxuICAvLyBBV1NcclxuICBBV1NfUkVHSU9OOiBzdHJpbmc7XHJcbiAgQVdTX0FDQ0VTU19LRVlfSUQ6IHN0cmluZztcclxuICBBV1NfU0VDUkVUX0FDQ0VTU19LRVk6IHN0cmluZztcclxuICBBV1NfQUNDT1VOVF9JRDogc3RyaW5nO1xyXG4gIFxyXG4gIC8vIFMzXHJcbiAgUzNfT1JJR0lOQUxfQlVDS0VUOiBzdHJpbmc7XHJcbiAgUzNfVFJBTlNGT1JNRURfQlVDS0VUOiBzdHJpbmc7XHJcbiAgXHJcbiAgLy8gQ2xvdWRGcm9udFxyXG4gIENMT1VERlJPTlRfRE9NQUlOOiBzdHJpbmc7XHJcbiAgXHJcbiAgLy8gVXBsb2FkIGxpbWl0c1xyXG4gIE1BWF9VUExPQURfU0laRV9NQjogbnVtYmVyO1xyXG4gIFBSRVNJR05FRF9VUkxfRVhQSVJZX1NFQ09ORFM6IG51bWJlcjtcclxuICBcclxuICAvLyBBc3NldCBSZXRlbnRpb25cclxuICBBU1NFVF9SRVRFTlRJT05fSE9VUlM6IG51bWJlcjtcclxufVxyXG5cclxuY29uc3QgZ2V0RW52ID0gKGtleTogc3RyaW5nLCBkZWZhdWx0VmFsdWU/OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xyXG4gIGNvbnN0IHZhbHVlID0gcHJvY2Vzcy5lbnZba2V5XSB8fCBkZWZhdWx0VmFsdWU7XHJcbiAgaWYgKCF2YWx1ZSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIGVudmlyb25tZW50IHZhcmlhYmxlOiAke2tleX1gKTtcclxuICB9XHJcbiAgcmV0dXJuIHZhbHVlO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGVudjogRW52Q29uZmlnID0ge1xyXG4gIFBPUlQ6IHBhcnNlSW50KGdldEVudignUE9SVCcsICc1MDAwJykpLFxyXG4gIE5PREVfRU5WOiBnZXRFbnYoJ05PREVfRU5WJywgJ2RldmVsb3BtZW50JyksXHJcbiAgXHJcbiAgTU9OR09EQl9VUkk6IGdldEVudignTU9OR09EQl9VUkknKSxcclxuICBcclxuICBKV1RfU0VDUkVUOiBnZXRFbnYoJ0pXVF9TRUNSRVQnKSxcclxuICBKV1RfRVhQSVJFOiBnZXRFbnYoJ0pXVF9FWFBJUkUnLCAnN2QnKSxcclxuICBcclxuICBBV1NfUkVHSU9OOiBnZXRFbnYoJ0FXU19SRUdJT04nLCAndXMtZWFzdC0xJyksXHJcbiAgQVdTX0FDQ0VTU19LRVlfSUQ6IGdldEVudignQVdTX0FDQ0VTU19LRVlfSUQnKSxcclxuICBBV1NfU0VDUkVUX0FDQ0VTU19LRVk6IGdldEVudignQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZJyksXHJcbiAgQVdTX0FDQ09VTlRfSUQ6IGdldEVudignQVdTX0FDQ09VTlRfSUQnKSxcclxuICBcclxuICBTM19PUklHSU5BTF9CVUNLRVQ6IGdldEVudignUzNfT1JJR0lOQUxfQlVDS0VUJyksXHJcbiAgUzNfVFJBTlNGT1JNRURfQlVDS0VUOiBnZXRFbnYoJ1MzX1RSQU5TRk9STUVEX0JVQ0tFVCcpLFxyXG4gIFxyXG4gIENMT1VERlJPTlRfRE9NQUlOOiBnZXRFbnYoJ0NMT1VERlJPTlRfRE9NQUlOJyksXHJcbiAgXHJcbiAgTUFYX1VQTE9BRF9TSVpFX01COiBwYXJzZUludChnZXRFbnYoJ01BWF9VUExPQURfU0laRV9NQicsICc1MCcpKSxcclxuICBQUkVTSUdORURfVVJMX0VYUElSWV9TRUNPTkRTOiBwYXJzZUludChnZXRFbnYoJ1BSRVNJR05FRF9VUkxfRVhQSVJZX1NFQ09ORFMnLCAnOTAwJykpLFxyXG4gIFxyXG4gIEFTU0VUX1JFVEVOVElPTl9IT1VSUzogcGFyc2VJbnQoZ2V0RW52KCdBU1NFVF9SRVRFTlRJT05fSE9VUlMnLCAnOTAnKSksXHJcbn07XHJcbiJdfQ==